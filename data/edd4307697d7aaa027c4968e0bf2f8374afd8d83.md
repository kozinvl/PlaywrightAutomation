# Test info

- Name: Authentication Page >> there is successful authentication
- Location: /home/runner/work/PlaywrightAutomation/PlaywrightAutomation/tests/login-page.spec.ts:20:7

# Error details

```
Error: expect.toBeVisible: Error: strict mode violation: getByLabel('Email Address') resolved to 2 elements:
    1) <input id="email" name="email" type="email" placeholder="name@example.com" class="form-control form-input"/> aka getByRole('textbox', { name: 'Email Address' })
    2) <input type="email" id="reset_mail" placeholder="name@example.com" class="form-control form-input"/> aka getByLabel('Reset Password').getByPlaceholder('name@example.com')

Call log:
  - expect.toBeVisible with timeout 5000ms
  - waiting for getByLabel('Email Address')

    at FormAuthenticationPage.expectLoaded (/home/runner/work/PlaywrightAutomation/PlaywrightAutomation/app/pages/login.page.ts:15:35)
    at FormAuthenticationPage.open (/home/runner/work/PlaywrightAutomation/PlaywrightAutomation/app/abstractClasses.ts:28:5)
    at /home/runner/work/PlaywrightAutomation/PlaywrightAutomation/tests/login-page.spec.ts:9:5
```

# Page snapshot

```yaml
- dialog:
  - text: This is a demo website of
  - strong: PHPTRAVELS
  - text: to use this on your website buy from phptravels.com
  - link "Pricing":
    - /url: https://phptravels.com/pricing/
  - button "Hide"
- banner:
  - link "logo":
    - /url: https://phptravels.net/
    - img "logo"
  - list:
    - listitem:
      - link "Flights":
        - /url: https://phptravels.net/flights
    - listitem:
      - link "Hotels":
        - /url: https://phptravels.net/hotels
    - listitem:
      - link "Tours":
        - /url: https://phptravels.net/tours
    - listitem:
      - link "Cars":
        - /url: https://phptravels.net/cars
    - listitem:
      - link "Visa":
        - /url: https://phptravels.net/visa
    - listitem:
      - link "Blogs":
        - /url: https://phptravels.net/blogs
  - search:
    - list:
      - listitem:
        - button "flag English":
          - img "flag"
          - text: English
          - img
      - listitem:
        - button "USD":
          - text: USD
          - img
      - listitem:
        - button "Agents":
          - img
          - text: Agents
          - img
      - listitem:
        - button "Customer":
          - img
          - text: Customer
          - img
- main:
  - heading "Login" [level=4]
  - paragraph: Welcome back! Please sign in to your account
  - text: Email Address
  - textbox "Email Address"
  - text: Password
  - textbox "Password"
  - checkbox "Remember Me"
  - text: Remember Me Reset Password
  - button "Login"
  - link "Signup":
    - /url: https://phptravels.net/signup
- img "apps"
- link "Playstore":
  - /url: https://play.google.com/store/apps/details?id=com.phptravelsnative
- link "App Store":
  - /url: https://itunes.apple.com/us/app/phptravels/id1018217005
- heading "Get The App!" [level=4]:
  - strong: Get The App!
- paragraph: "Our app has all your travel needs covered: Secure payment channels, easy 4-step booking process. What more could you ask for?"
- separator
- list:
  - listitem:
    - list:
      - listitem:
        - link "about us":
          - /url: https://phptravels.net/page/about-us
      - listitem:
        - link "contact us":
          - /url: https://phptravels.net/page/contact-us
      - listitem:
        - link "terms of use":
          - /url: https://phptravels.net/page/terms-of-use
      - listitem:
        - link "cookies policy":
          - /url: https://phptravels.net/page/cookies-policy
      - listitem:
        - link "privacy policy":
          - /url: https://phptravels.net/page/privacy-policy
      - listitem:
        - link "become a supplier":
          - /url: https://phptravels.net/page/become-a-supplier
      - listitem:
        - link "faq":
          - /url: https://phptravels.net/page/faq
      - listitem:
        - link "booking tips":
          - /url: https://phptravels.net/page/booking-tips
      - listitem:
        - link "file a claim":
          - /url: https://phptravels.net/page/file-a-claim
      - listitem:
        - link "careers and jobs":
          - /url: https://phptravels.net/page/careers-and-jobs
      - listitem:
        - link "how to book":
          - /url: https://phptravels.net/page/how-to-book
- link "logo":
  - /url: https://phptravels.net/
  - img "logo"
- list:
  - listitem:
    - strong: "+123456789"
  - listitem:
    - strong:
      - link "email@agency.com":
        - /url: mailto:email@agency.com
  - listitem:
    - link "Contact Us":
      - /url: https://phptravels.net/page/contact
      - strong: Contact Us
- textbox
- text: Name
- textbox
- text: Email
- button "Signup Newsletter"
- separator
- list: All Rights Reserved by PHPTARVELS
- heading "Powered by phptravels PHPTRAVELS v9.1" [level=6]:
  - text: Powered by
  - link "phptravels PHPTRAVELS":
    - /url: http://www.phptravels.com
    - img "phptravels"
    - strong: PHPTRAVELS
  - text: v9.1
- list:
  - listitem:
    - link:
      - /url: https://facebook.com/phptravels
      - img
  - listitem:
    - link:
      - /url: https://twitter.com/phptravelss
      - img
  - listitem:
    - link:
      - /url: https://twitter.com/phptravels
      - img
  - listitem:
    - link:
      - /url: https://google.com/phptravels
      - img
  - listitem:
    - link:
      - /url: https://youtube.com/phptravels
      - img
  - listitem:
    - link:
      - /url: https://whatsapp.com/phptravels
      - img
  - listitem:
    - link:
      - /url: https://instagram.com/phptravels
      - img
```

# Test source

```ts
   1 | import { expect } from '@playwright/test'
   2 | import { BasePage } from '../abstractClasses'
   3 | import { testConfig } from '../../testConfig'
   4 |
   5 | export class FormAuthenticationPage extends BasePage {
   6 |   public readonly pagePath = '/login'
   7 |
   8 |   private signInButton = this.page.getByRole('button', { name: 'Login' })
   9 |   private emailInput = this.page.getByLabel('Email Address')
  10 |   private passwordInput = this.page.getByPlaceholder('******')
  11 |   public signUpButton = this.page.getByRole('link', { name: 'Signup' })
  12 |
  13 |   async expectLoaded(): Promise<void> {
  14 |     await expect(this.signInButton).toBeVisible()
> 15 |     await expect(this.emailInput).toBeVisible()
     |                                   ^ Error: expect.toBeVisible: Error: strict mode violation: getByLabel('Email Address') resolved to 2 elements:
  16 |     await expect(this.passwordInput).toBeVisible()
  17 |   }
  18 |
  19 |   /**
  20 |    * Performs authentication using the provided credentials.
  21 |    *
  22 |    * @param {Object} credentials - The credentials for authentication.
  23 |    * @param {string} credentials.email - The email for authentication.
  24 |    * @param {string} credentials.password - The password for authentication.
  25 |    * @return {Promise<void>} A Promise that resolves when the authentication is complete.
  26 |    */
  27 |   async performAuthentication(
  28 |     credentials: { email: string; password: string } = {
  29 |       email: testConfig.email,
  30 |       password: testConfig.password,
  31 |     }
  32 |   ): Promise<void> {
  33 |     await this.passwordInput.fill(credentials.password)
  34 |     await this.emailInput.fill(credentials.email)
  35 |
  36 |     await this.signInButton.click()
  37 |   }
  38 | }
  39 |
```